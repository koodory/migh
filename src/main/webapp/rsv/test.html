<!DOCTYPE html>
<html>
<head>
<meta name="viewport"
  content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0,
  minimum-scale=1.0, width=device-width, height=device-height" charset="utf-8">
<title>Insert title here</title>
<link rel="stylesheet" href="../css/bootstrap.min.css">
<link rel="stylesheet" href="../css/bootstrap-theme.min.css">
<link rel="stylesheet" href="../css/jquery.mobile-1.4.2.min.css" />
<link rel="stylesheet" href="../css/common.css">
<link rel="stylesheet" type="text/css"
  href="datepicker/jquery.mobile.datepicker.css">
<link rel="stylesheet" type="text/css"
  href="datepicker/jquery.mobile.datepicker.theme.css">
</head>
<body>
  <div data-role="page">

    <div data-role='header' data-theme='b'>
      <h3>예약하기</h3>
    </div>
    <!-- header 끝 -->

    <div class='center' data-role='content' data-add-back-btn='true'>

      <!-- 예약자명 받기 -->

      <ul data-role="listview" data-inset="true" class='center'
        data-divider-theme="a">
        <li data-role="list-divider"><h1 class='center'>입실 날짜</h1></li>
      <input type="text" id="checkInType" readonly="true">
      </ul>
      
      <ul data-role="listview" data-inset="true" class='center'
        data-divider-theme="a">
        <li data-role="list-divider"><h1 class='center'>퇴실 날짜</h1></li>
      <input type="text" id="checkOutType" readonly="true">
      </ul>
      
      <!-- 예약 버튼 -->
  Date: <div id="datepicker"></div>
  Date: <div id="datepicker2"></div>
    </div>
    <!-- content 끝 -->

    <div data-role="footer" data-theme="b" data-position="fixed">
      <div data-role="navbar" data-position="fixed">
        <ul>
          <li><a href='mobile_rsv_view.html' data-icon="grid"
            data-transition="slide">객실보기</a></li>
          <li><a href='#' onclick='location.href="../index.html"'
            data-icon="home" data-transition="slide" data-direction="reverse">메인</a></li>
        </ul>
      </div>
    </div>
    <!-- footer 끝 -->

  </div>
   <script src="../js/jquery-1.11.1.js"></script>
   <script src="../js/jquery.mobile-1.4.2.min.js"></script>
   <script src="datepicker/jquery.mobile.datepicker.js"></script>
   <script src="datepicker/external/jquery-ui/datepicker.js"></script>
  <script>
  var availableDates = ['06-28-2014','06-30-2014', '07-01-2014'];
  
    $(function() {
      $( "#datepicker" ).datepicker();
      $( "#datepicker2" ).datepicker();
    });


  
  $( "#checkInType" ).datepicker({
      minDate: "+0d",
      beforeShowDay: function(d) {
          var dmy = (d.getMonth()+1); 
          if(d.getMonth()<9) 
              dmy="0"+dmy; 
          dmy+= "-"; 
          
          if(d.getDate()<10) dmy+="0"; 
              dmy+=d.getDate() + "-" + d.getFullYear(); 
          
          console.log(dmy+' : '+($.inArray(dmy, availableDates)));
          
          if ($.inArray(dmy, availableDates) != -1) {
               return [false,"bg-disabled","unAvailable"]; 
          } else{
              return [true, "","Available"]; 
          }
      },
      currentText: "오늘" ,
      closeText: "취소",
      changeMonth: true,
      changeYear: false,
      showButtonPanel: true ,
      autoSize: true,
      showAnim: "slideDown",
      onClose: function( selectedDate ) {
        $( "#checkOutType" ).datepicker( "option", "minDate", selectedDate );
      }
    });
    
  $( "#checkOutType" ).datepicker({
      minDate: "+0d",
      currentText: "오늘" ,
      closeText: "취소",
      changeMonth: true,
      changeYear: true,
      autoSize: true,
      showButtonPanel: true ,
      showAnim: "slideDown",
      onClose: function( selectedDate ) {
        $( "#checkInType" ).datepicker( "option", "maxDate", selectedDate );
      }
    });
  
  
  </script>
</body>
</html>